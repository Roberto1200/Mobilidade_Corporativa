@*@using BotDetect.Web.Mvc*@
@model Manager.Models.LoginModel
@{
//MvcCaptcha exampleCaptcha = new MvcCaptcha("ExampleCaptcha");
//exampleCaptcha.ImageSize = new System.Drawing.Size(150, 20);
//exampleCaptcha.Locale = "pt-BR";
//exampleCaptcha.ImageStyle = BotDetect.ImageStyle.BlackOverlap;
//exampleCaptcha.SoundEnabled = false;
//exampleCaptcha.HelpLinkEnabled = false;
//exampleCaptcha.ReloadTooltip = "Nova imagem";
//exampleCaptcha.HelpLinkUrl = "#";
}

<div id="loginform">
    @using (Html.BeginForm(new { ReturnUrll = ViewBag.ReturnUrl }))
    {
        @Html.AntiForgeryToken()
        @Html.HiddenFor(m => m.contagem)
        <p>Digite o E-Mail de usuário e senha para continuar.</p>

        <div class="input-group">
            <span class="input-group-addon">
                <i class="glyphicon glyphicon-user"></i>
            </span>
            @Html.TextBoxFor(m => m.UserName, new { @class = "form-control", placeholder = "E-Mail", id = "username", maxlength = "40" })

        </div>
        <div class="input-group">
            <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
            @Html.TextBoxFor(m => m.Password, new { @class = "form-control", placeholder = "Senha", type = "password", id = "password", maxlength = "16" })
        </div>
        @*<div class="input-group">
            <span class="input-group-addon"><i class="glyphicon glyphicon-question-sign"></i></span>
            @Html.TextBox("CaptchaCode", string.Empty, new { @class = "form-control" })
        </div>
        <div class="input-group">
            @Html.Captcha(exampleCaptcha)
        </div>*@


        <div id="validationLoginPassword" class="validation-area">

            @if (ViewBag.PasswordChanged)
            {
                <div class="alert alert-success alert-dismissible" id="dialogChangedPassword">
                    <button type="button" class="close" data-dismiss="alert" id="btnCloseMsgLogin">×</button>
                    <span>Senha alterada com sucesso!</span>
                </div>
                <script>
                    document.getElementById("loginbox").style.height = "290px";
                </script>
            }

            @if (!ViewData.ModelState.IsValid)
            {
                <div class="alert alert-danger alert-dismissible" id="dialogValidation">
                    <button type="button" class="close" data-dismiss="alert" id="btnCloseMsgLogin">×</button>
                    @Html.ValidationSummary(true)
                </div>
                <script>
                    document.getElementById("loginbox").style.height = "290px";
                </script>
            }
        </div>

        <hr />

        <div class="form-actions">
            <div class="pull-left">
                <a href="#" class="flip-link to-recover">Esqueceu sua senha?</a>
            </div>

            <div class="pull-right">
                <input type="submit" class="btn btn-default login-button" id="btnLogin" value="Login" />
            </div>
        </div>

    }
</div>